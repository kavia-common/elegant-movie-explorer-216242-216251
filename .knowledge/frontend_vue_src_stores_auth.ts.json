{"is_source_file": true, "format": "TypeScript", "description": "Source code for a Pinia store managing authentication state, including user session, Google OAuth login, sign-out, and alert notifications in a Vue.js frontend project.", "external_files": ["@/lib/supabaseClient", "pinia", "vue", "@supabase/supabase-js"], "external_methods": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signInWithOAuth", "supabase.auth.signOut"], "published": ["useAuthStore"], "classes": [], "methods": [{"name": "async function initialize() { initialize", "description": "Initializes user session state by fetching current session and setting up an auth state change listener.", "scope": "", "scopeKind": ""}, {"name": "async function signInWithGoogle(redirectTo?: string) { signInWithGoogle", "description": "Starts the Google OAuth sign-in process with optional redirect URL.", "scope": "", "scopeKind": ""}, {"name": "async function signOut() { signOut", "description": "Signs out the current user and updates the state.", "scope": "", "scopeKind": ""}, {"name": "function setAlert(a: AppAlert | null) { setAlert", "description": "Sets a temporary alert message that auto clears after 4 seconds.", "scope": "", "scopeKind": ""}], "calls": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signInWithOAuth", "supabase.auth.signOut"], "search-terms": ["Pinia auth store", "Vue 3 supabase auth", "Google OAuth sign-in", "auth session management", "auth alert notifications"], "state": 2, "file_id": 22, "knowledge_revision": 61, "git_revision": "", "revision_history": [{"50": ""}, {"61": ""}], "ctags": [{"_type": "tag", "name": "AlertType", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^export type AlertType = 'success' | 'error' | 'info'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AppAlert", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^export interface AppAlert {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-in failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-out failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signOut", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const { data } = await supabase.auth.getSession()$/", "language": "TypeScript", "kind": "constant", "scope": "initialize", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-in failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-out failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signOut", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const { error: authError } = await supabase.auth.signInWithOAuth({$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const { error: signOutError } = await supabase.auth.signOut()$/", "language": "TypeScript", "kind": "constant", "scope": "signOut", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  id?: string$/", "language": "TypeScript", "kind": "property", "scope": "AppAlert", "scopeKind": "interface"}, {"_type": "tag", "name": "if", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      if (authError) throw authError$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  async function initialize() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-in failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-out failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signOut", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  message: string$/", "language": "TypeScript", "kind": "property", "scope": "AppAlert", "scopeKind": "interface"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-in failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const msg = e instanceof Error ? e.message : 'Sign-out failed'$/", "language": "TypeScript", "kind": "constant", "scope": "signOut", "scopeKind": "function"}, {"_type": "tag", "name": "setAlert", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  function setAlert(a: AppAlert | null) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "signInWithGoogle", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  async function signInWithGoogle(redirectTo?: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  async function signOut() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "siteUrl", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^      const siteUrl = window.location.origin$/", "language": "TypeScript", "kind": "constant", "scope": "signInWithGoogle", "scopeKind": "function"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^  type: AlertType$/", "language": "TypeScript", "kind": "property", "scope": "AppAlert", "scopeKind": "interface"}, {"_type": "tag", "name": "useAuthStore", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/stores/auth.ts", "pattern": "/^export const useAuthStore = defineStore('auth', () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "a18b1490d80ef65d7a8f8ce19ba9dd5d", "format-version": 4, "code-base-name": "frontend_vue", "filename": "frontend_vue/src/stores/auth.ts", "fields": [{"name": "export interface AppAlert {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "id?: string", "scope": "AppAlert", "scopeKind": "interface", "description": "unavailable"}, {"name": "message: string", "scope": "AppAlert", "scopeKind": "interface", "description": "unavailable"}, {"name": "type: AlertType", "scope": "AppAlert", "scopeKind": "interface", "description": "unavailable"}]}