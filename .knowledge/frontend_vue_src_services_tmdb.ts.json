{"is_source_file": true, "format": "TypeScript", "description": "This file provides a set of functions and interfaces for interacting with the The Movie Database (TMDB) API, including fetching trending movies, featured movies, searching movies, generating poster image URLs, and retrieving movie titles.", "external_files": ["fetch API (built-in)", "import.meta.env (Vite environment variables)"], "external_methods": ["fetch"], "published": ["getTrending", "getFeatured", "searchMovies", "imgPoster", "movieTitle"], "classes": [], "methods": [{"name": "function headers() { headers", "description": "Utility function to generate HTTP headers with authorization using the API key.", "scope": "", "scopeKind": ""}, {"name": "export async function getTrending(signal?: AbortSignal): Promise<TmdbMovie[]> { getTrending", "description": "Fetches the list of trending movies for the week from TMDB.", "scope": "", "scopeKind": ""}, {"name": "export async function getFeatured(signal?: AbortSignal): Promise<TmdbMovie[]> { getFeatured", "description": "Fetches combined popular and top-rated movies, deduplicates by id, and returns the top 20.", "scope": "", "scopeKind": ""}, {"name": "export async function searchMovies(query: string, signal?: AbortSignal): Promise<TmdbMovie[]> { searchMovies", "description": "Performs a search query for movies based on the provided string.", "scope": "", "scopeKind": ""}, {"name": "export function imgPoster(path?: string | null, size: 'w92' | 'w154' | 'w185' | 'w342' | 'w500' / imgPoster", "description": "Generates the full URL for a movie poster image given its path and size.", "scope": "", "scopeKind": ""}, {"name": "export function movieTitle(m: TmdbMovie) { movieTitle", "description": "Returns the display title of a movie, preferring 'title' over 'name', or 'Untitled' if neither is available.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "fetch", "fetch", "fetch", "fetch", "fetch"], "search-terms": ["TMDB API", "movie fetching functions", "poster URL generation", "movie search", "trending movies", "top-rated"], "state": 2, "file_id": 24, "knowledge_revision": 63, "git_revision": "", "revision_history": [{"53": ""}, {"63": ""}], "ctags": [{"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^const API_KEY = import.meta.env.VITE_TMDB_API_KEY as string$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^const BASE_URL = 'https:\\/\\/api.themoviedb.org\\/3'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "IMG_BASE", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^const IMG_BASE = 'https:\\/\\/image.tmdb.org\\/t\\/p'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "TmdbMovie", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export interface TmdbMovie {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "backdrop_path", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  backdrop_path?: string | null$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "combined", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const combined: TmdbMovie[] = []$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "getFeatured", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export async function getFeatured(signal?: AbortSignal): Promise<TmdbMovie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getTrending", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export async function getTrending(signal?: AbortSignal): Promise<TmdbMovie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^function headers() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  id: number$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "imgPoster", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export function imgPoster(path?: string | null, size: 'w92' | 'w154' | 'w185' | 'w342' | 'w500' /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const json = await res.json()$/", "language": "TypeScript", "kind": "constant", "scope": "getTrending", "scopeKind": "function"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const json = await res.json()$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "movieTitle", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export function movieTitle(m: TmdbMovie) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  name?: string$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "overview", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  overview?: string$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "popular", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const popular = (await popularRes.json()).results || []$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "popularRes", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const [popularRes, topRes] = await Promise.all([$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "poster_path", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  poster_path?: string | null$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "release_date", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  release_date?: string$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const res = await fetch(`${BASE_URL}\\/trending\\/movie\\/week`, { headers: headers(), signal })$/", "language": "TypeScript", "kind": "constant", "scope": "getTrending", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const res = await fetch(u.toString(), { headers: headers(), signal })$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "searchMovies", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^export async function searchMovies(query: string, signal?: AbortSignal): Promise<TmdbMovie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "seen", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const seen = new Set<number>()$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  title?: string$/", "language": "TypeScript", "kind": "property", "scope": "TmdbMovie", "scopeKind": "interface"}, {"_type": "tag", "name": "top", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const top = (await topRes.json()).results || []$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "topRes", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const [popularRes, topRes] = await Promise.all([$/", "language": "TypeScript", "kind": "constant", "scope": "getFeatured", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/elegant-movie-explorer-216242-216251/frontend_vue/src/services/tmdb.ts", "pattern": "/^  const u = new URL(`${BASE_URL}\\/search\\/movie`)$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}], "hash": "3da39e15d2108f8c1ef263ab73d0f91f", "format-version": 4, "code-base-name": "frontend_vue", "filename": "frontend_vue/src/services/tmdb.ts", "fields": [{"name": "export interface TmdbMovie {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "backdrop_path?: string | null", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "id: number", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "name?: string", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "overview?: string", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "poster_path?: string | null", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "release_date?: string", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}, {"name": "title?: string", "scope": "TmdbMovie", "scopeKind": "interface", "description": "unavailable"}]}